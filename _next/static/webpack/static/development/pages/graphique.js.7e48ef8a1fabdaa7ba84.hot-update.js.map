{"version":3,"file":"static/webpack/static/development/pages/graphique.js.7e48ef8a1fabdaa7ba84.hot-update.js","sources":["webpack:///./lib/index.js"],"sourcesContent":["function preprocess(data) {\n  var maxACS = data.reduce(function(max, slice) {\n    var v = slice.acs;\n    return max < v ? v : max;\n  }, 0)\n\n  data.forEach(function(slice) {\n    slice.cmu_c = slice.cmu_c * 1.2 * maxACS;\n  });\n\n  data.forEach(function(slice) {\n    slice.cmu_c = slice.cmu_c / 12;\n    slice.acs = slice.acs / 12;\n    slice.bourse_college = slice.bourse_college / 12;\n    slice.cheque_energie = slice.cheque_energie / 12;\n  });\n}\n\nfunction computeTotal(data, keys) {\n  data.forEach(function(slice) {\n    slice.total = keys.reduce(function(v, k) {\n      return v + slice[k];\n    }, 0);\n  })\n}\n\nvar exclude = [\n  \"css_participation_forfaitaire_\",\n  \"logement_social\",\n  \"livret_epargne_populaire_taux\",\n  \"livret_epargne_populaire_taux_demandeur\",\n  \"livret_epargne_populaire_taux_conjoint\",\n  \"name\"]\nfunction getRelevantSeries(data) {\n  var values = data.reduce(function(accum, item) {\n    Object.keys(item).forEach(function(id) {\n      if (exclude.indexOf(id) === -1 && !isNaN(item[id])) {\n        accum[id] = (accum[id] || 0) + Math.abs(item[id]);\n      }\n    })\n\n    return accum\n  }, {})\n\n  return Object.keys(values).reduce(function(ids, id) {\n    var variations = ['', '_', '_demandeur', '_conjoint']\n    variations.forEach(v => {\n      if (values[id + v] !== 0 && values[id + v] !== undefined) {\n        ids.push(id + v)\n      }\n    })\n\n    return ids\n  }, [])\n}\n\n// Permet le tri les ressources pour faciliter la lecture du graphique\nvar tops = {\n  asf: 0.5,\n  salaire_net: 1,\n  irpp: 2,\n  rsa: 3,\n  aah: 3.5,\n  af: 3.7,\n  cf: 3.8,\n  ppa: 4,\n  aide_logement: 5,\n  bourse_college: 5.5,\n  cmu_c: 6,\n  acs: 7\n}\nfunction itemComparator(a, b) {\n  return (tops[a] || 10) - (tops[b] || 10)\n}\n\nmodule.exports = {\n  computeTotal,\n  getRelevantSeries,\n  itemComparator,\n  preprocess\n }\n"],"mappings":";;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AACA;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;;;;A","sourceRoot":""}